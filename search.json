---
layout: null
---
[
{% assign pages = site.pages | where_exp: "p","p.title" %}
{% for p in pages %}{% if p.searchindex != false %}{% assign t = p.title %}{% if p.deprecated %}{% assign t = t | append: " (DEPRECATED)" %}{% endif %}{
  "title": {{ t | jsonify }},
  "url": {{ p.url | relative_url | jsonify }},
  "content": {{ p.content | strip_html | strip_newlines | jsonify }},
  "desc": {{ p.description | default: "" | jsonify }}
}{% unless forloop.last %},{% endunless %}{% endif %}
{% endfor %}
{% if site.posts and site.posts != empty %}{% if pages and pages != empty %},{% endif %}{% for post in site.posts %}{% assign pt = post.title %}{% if post.deprecated %}{% assign pt = pt | append: " (DEPRECATED)" %}{% endif %}{
  "title": {{ pt | jsonify }},
  "url": {{ post.url | relative_url | jsonify }},
  "date": {{ post.date | date_to_xmlschema | jsonify }},
  "content": {{ post.content | strip_html | strip_newlines | jsonify }}
}{% unless forloop.last %},{% endunless %}{% endfor %}{% endif %}
]